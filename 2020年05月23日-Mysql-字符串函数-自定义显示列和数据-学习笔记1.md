## Mysql 字符串函数 自定义显示列和数据 学习笔记1

#### 1.  自定义显示列

- @自定义名称:=自定值 as '自定义名称（可以没有）'

> ```sql
> SELECT
> 	@aaa:=50 as '自定义数据'
> ```
>
> 结果
>
> | 自定义数据 |
> | ---------- |
> | 50         |
>
> ****
>
> ```sql
> SELECT
> 	@aaa:=50
> ```
>
> 结果
>
> | @aaa:=50 |
> | -------- |
> | 50       |



#### 2. CHAR_LENGTH(s) 和 CHARACTER_LENGTH(s)

- 返回字符串 s 的字符数

> ```
> SELECT
> 	CHAR_LENGTH('12345678')
> ```
>
> 结果
>
> | CHAR_LENGTH('12345678') |
> | ----------------------- |
> | 8                       |



#### 3. CONCAT(s1,s2...sn)

- 字符串 s1,s2 等多个字符串合并为一个字符串

> ```
> SELECT
> 	CONCAT('hello', ' ', 'world')
> ```
>
> 结果
>
> | CONCAT('hello', ' ', 'world') |
> | ----------------------------- |
> | hello world                   |



#### 4. CONCAT_WS(x, s1,s2...sn)

- 同 CONCAT(s1,s2,...) 函数，但是每个字符串之间要加上 x，x 可以是分隔符

> ```
> SELECT
> 	CONCAT_WS('-', 'hello', ' ', 'world')
> ```
>
> 结果
>
> | CONCAT_WS('-', 'hello', ' ', 'world') |
> | ------------------------------------- |
> | hello- -world                         |



#### 5. FIELD(s,s1,s2...)

- 返回第一个字符串 s 在字符串列表(s1,s2...)中的位置

> ``` 
> SELECT
> 	FIELD('c', 'a', 'b', 'c', 'd')
> ```
>
> 结果
>
> | FIELD('c', 'a', 'b', 'c', 'd') |
> | ------------------------------ |
> | 3                              |



#### 6. FIND_IN_SET(s1,s2)

- 返回在字符串s2中与s1匹配的字符串的位置

> ```
> SELECT
> 	FIND_IN_SET('c', 'abcdefg'),
> 	FIND_IN_SET('c', 'a,b,c,d,e,f,g'),
> 	FIND_IN_SET('c', 'a-b-c-d-e-f-g')
> ```
>
> 结果
>
> | FIND_IN_SET('c', 'abcdefg') | FIND_IN_SET('c', 'a,b,c,d,e,f,g') | FIND_IN_SET('c', 'a-b-c-d-e-f-g') |
> | --------------------------- | --------------------------------- | --------------------------------- |
> | 0                           | 3                                 | 0                                 |



#### 7. FORMAT(x,n)

- 函数可以将数字 x 进行格式化 "#,###.##", 将 x 保留到小数点后 n 位，最后一位四舍五入。

> ```
> SELECT
> 	FORMAT('a.aaaaa',2),
> 	FORMAT('5.01157',2),
> 	FORMAT('10',2)
> ```
>
> 结果
>
> | FORMAT('a.aaaaa',2) | FORMAT('5.01157',2) | FORMAT('10',2) |
> | ------------------- | ------------------- | -------------- |
> | 0.00                | 5.01                | 10.00          |



#### 8. INSERT(s1,x,len,s2)

- 字符串 s2 替换 s1 的 x 位置开始长度为 len 的字符串

> **-1相当于后面的全部替换**
>
> ```
> SELECT
> 	INSERT('12345',2,2,'abcde'),
> 	INSERT('12345',2,-1,'abcde'),
> 	INSERT('12345',0,-1,'abcde')
> ```
>
> 结果
>
> | INSERT('12345',2,2,'abcde') | INSERT('12345',2,-1,'abcde') | INSERT('12345',0,-1,'abcde') |
> | --------------------------- | ---------------------------- | ---------------------------- |
> | 1abcde45                    | 1abcde                       | 12345                        |

